(this["webpackJsonplibrary-react"]=this["webpackJsonplibrary-react"]||[]).push([[0],{168:function(e,t,o){},265:function(e,t,o){"use strict";o.r(t);var a=o(0),n=o(27),r=o.n(n),l=(o(168),o(267)),s=o(23),i=o(75),c=o(76),d=o(85),u=o(82),b=o(268),j=o(270),h=o(273),p=o(32),k=o(272),O=o(271),m=o(269),B=o(62),f=o(67),g=o.n(f),x=o(9),y=b.a.Column,I=b.a.ColumnGroup,v={labelCol:{span:5},wrapperCol:{span:16}},M={wrapperCol:{offset:8,span:16}},C=function(e){console.log("Failed:",e)};j.a;var D=function(e){Object(d.a)(o,e);var t=Object(u.a)(o);function o(){return Object(i.a)(this,o),t.apply(this,arguments)}return Object(c.a)(o,[{key:"componentDidMount",value:function(){this.props.getBook()}},{key:"render",value:function(){var e=this;return Object(x.jsxs)(a.Fragment,{children:[Object(x.jsxs)(b.a,{dataSource:this.props.bookInLocalStorage,children:[Object(x.jsxs)(I,{title:"Book",children:[Object(x.jsx)(y,{title:"\u66f8\u7c4d\u7de8\u865f",dataIndex:"BookId"},"BookId"),Object(x.jsx)(y,{title:"\u66f8\u7c4d\u7a2e\u985e",dataIndex:"BookCategory"},"BookCategory"),Object(x.jsx)(y,{title:"\u66f8\u540d",dataIndex:"BookName"},"BookName"),Object(x.jsx)(y,{title:"\u4f5c\u8005",dataIndex:"BookAuthor"},"BookAuthor"),Object(x.jsx)(y,{title:"\u8cfc\u66f8\u65e5\u671f",dataIndex:"BookBoughtDate"},"BookBoughtDate"),Object(x.jsx)(y,{title:"\u51fa\u7248\u793e",dataIndex:"BookPublisher"},"BookPublisher")]}),Object(x.jsxs)(I,{title:"Action",children:[Object(x.jsx)(y,{title:"Delete",render:function(t){return Object(x.jsx)(h.b,{size:"middle",children:Object(x.jsx)(p.a,{onClick:function(){e.props.deleteBook(t.BookId)},children:"Delete"})})}},"delete"),Object(x.jsx)(y,{title:"Modify",render:function(t){return Object(x.jsx)(h.b,{size:"middle",children:Object(x.jsx)(p.a,{onClick:function(){e.props.showModal(t.BookId)},children:"Modify"})})}},"modify")]})]}),Object(x.jsx)(k.a,{title:"Modify Page",visible:this.props.isModalVisible,onCancel:this.props.closeModal,footer:null,children:Object(x.jsxs)(j.a,Object(s.a)(Object(s.a)({name:"modifyForm"},v),{},{fields:this.props.targetBook,onFinish:function(t){e.props.submitForm(t)},onFinishFailed:C,children:[Object(x.jsx)(j.a.Item,{label:"\u66f8\u7c4d\u7de8\u865f",name:"BookId",children:Object(x.jsx)(O.a,{disabled:!0})}),Object(x.jsx)(j.a.Item,{label:"\u66f8\u540d",name:"BookName",rules:[{required:!0,message:"Please input your book name!"}],children:Object(x.jsx)(O.a,{})}),Object(x.jsx)(j.a.Item,{label:"\u4f5c\u8005",name:"BookAuthor",rules:[{required:!0,message:"Please input your book author!"}],children:Object(x.jsx)(O.a,{})}),Object(x.jsx)(j.a.Item,{label:"\u8cfc\u66f8\u65e5\u671f",name:"BookBoughtDate",rules:[{required:!0,message:"Please input your book bought date!"}],children:Object(x.jsx)(m.a,{format:"YYYY-MM-DD"})}),Object(x.jsx)(j.a.Item,{label:"\u66f8\u7c4d\u7a2e\u985e",name:"BookCategory",rules:[{required:!0,message:"Please input book category!"}],children:Object(x.jsx)(O.a,{})}),Object(x.jsx)(j.a.Item,{label:"\u51fa\u7248\u793e",name:"BookPublisher",rules:[{required:!0,message:"Please input book publisher!"}],children:Object(x.jsx)(O.a,{})}),Object(x.jsx)(j.a.Item,Object(s.a)(Object(s.a)({},M),{},{children:Object(x.jsx)(p.a,{type:"primary",htmlType:"submit",children:"Submit"})}))]}))})]})}}]),o}(a.Component),A=Object(B.b)((function(e){return{Bookdata:e.Bookdata,bookInLocalStorage:e.bookInLocalStorage,isModalVisible:e.isModalVisible,targetBook:e.targetBook}}),(function(e){return{getBook:function(){g.a.post("http://localhost:3001/read").then((function(t){var o={data:t.data,type:"getBookData"};e(o)})).catch((function(e){console.log(e)}))},deleteBook:function(e){var t=this;g.a.delete("http://localhost:3001/delete/".concat(e)).then((function(e){t.getBook()}))},showModal:function(t){e({type:"showModal",value:t})},closeModal:function(){e({type:"closeModal"})},submitForm:function(t){t.BookBoughtDate=t.BookBoughtDate.format("YYYY-MM-DD"),g.a.put("http://localhost:3001/modify",t).then((function(){g.a.post("http://localhost:3001/read").then((function(t){var o={data:t.data,type:"submitForm"};e(o)}))}))}}}))(D),S=O.a.Search,V=function(e){Object(d.a)(o,e);var t=Object(u.a)(o);function o(){return Object(i.a)(this,o),t.apply(this,arguments)}return Object(c.a)(o,[{key:"render",value:function(){var e=this;return Object(x.jsx)(S,{value:this.props.inputValue,placeholder:"input search text",enterButton:"Search",size:"large",onSearch:function(){e.props.handleSearch(e.props.inputValue)},onChange:this.props.handleChange})}}]),o}(a.Component),Y=Object(B.b)((function(e){return{inputValue:e.inputValue}}),(function(e){return{handleChange:function(t){var o={type:"handleChange",value:t.target.value};e(o)},handleSearch:function(){e({type:"handleSearch"})}}}))(V),P=o(122),w=o(51),F=o.n(w),L={Bookdata:[],inputValue:"",bookInLocalStorage:[],isModalVisible:!1,isAddModalVisable:!1,targetBook:[{name:["BookId"],value:""},{name:["BookName"],value:""},{name:["BookAuthor"],value:""},{name:["BookBoughtDate"],value:""},{name:["BookCategory"],value:""},{name:["BookPublisher"],value:""}]},q=o(155),N=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||P.b,_=Object(P.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;if("getBookData"===t.type)return t.data.sort((function(e,t){return e.BookId-t.BookId})),Object(s.a)(Object(s.a)({},e),{},{Bookdata:t.data,bookInLocalStorage:t.data});if("handleChange"===t.type)return Object(s.a)(Object(s.a)({},e),{},{inputValue:t.value});if("handleSearch"===t.type){var o=e.Bookdata.filter((function(t){return t.BookName.includes(e.inputValue)}));return Object(s.a)(Object(s.a)({},e),{},{bookInLocalStorage:o})}if("showModal"===t.type){for(var a=[{name:["BookId"],value:""},{name:["BookName"],value:""},{name:["BookAuthor"],value:""},{name:["BookBoughtDate"],value:""},{name:["BookCategory"],value:""},{name:["BookPublisher"],value:""}],n=e.bookInLocalStorage.filter((function(e){return e.BookId===t.value})),r=0;r<a.length;r++)"BookBoughtDate"===a[r].name[0]?a[r].value=F()(n[0][a[r].name[0]],"YYYY-MM-DD"):a[r].value=n[0][a[r].name[0]],console.log(a[r].name);return Object(s.a)(Object(s.a)({},e),{},{isModalVisible:!0,targetBook:a})}return"submitForm"===t.type?(t.data.sort((function(e,t){return e.BookId-t.BookId})),Object(s.a)(Object(s.a)({},e),{},{Bookdata:t.data,bookInLocalStorage:t.data,isModalVisible:!1})):"closeModal"===t.type?Object(s.a)(Object(s.a)({},e),{},{isModalVisible:!1}):"showAddModal"===t.type?Object(s.a)(Object(s.a)({},e),{},{isAddModalVisable:!0}):"closeAddModal"===t.type?Object(s.a)(Object(s.a)({},e),{},{isAddModalVisable:!1}):"addBook"===t.type?(t.data.sort((function(e,t){return e.BookId-t.BookId})),console.log(t.data),Object(s.a)(Object(s.a)({},e),{},{Bookdata:t.data,bookInLocalStorage:t.data,isAddModalVisable:!1})):e}),N(Object(P.a)(q.a))),E={labelCol:{span:5},wrapperCol:{span:16}},z={wrapperCol:{offset:8,span:16}},T=function(e){Object(d.a)(o,e);var t=Object(u.a)(o);function o(){return Object(i.a)(this,o),t.apply(this,arguments)}return Object(c.a)(o,[{key:"render",value:function(){var e=this;return Object(x.jsxs)(a.Fragment,{children:[Object(x.jsx)(p.a,{onClick:this.props.showAddModal,type:"primary",block:!0,children:"Add Book"}),Object(x.jsx)(k.a,{visible:this.props.isAddModalVisable,title:"Add Book",footer:null,onCancel:this.props.closeAddModal,children:Object(x.jsxs)(j.a,Object(s.a)(Object(s.a)({name:"modifyForm"},E),{},{onFinish:function(t){t.BookId=e.props.Bookdata[e.props.Bookdata.length-1].BookId+1,e.props.addBook(t)},children:[Object(x.jsx)(j.a.Item,{label:"\u66f8\u7c4d\u7de8\u865f",name:"BookId",hidden:!0,children:Object(x.jsx)(O.a,{disabled:!0})}),Object(x.jsx)(j.a.Item,{label:"\u66f8\u540d",name:"BookName",rules:[{required:!0,message:"Please input your book name!"}],children:Object(x.jsx)(O.a,{})}),Object(x.jsx)(j.a.Item,{label:"\u4f5c\u8005",name:"BookAuthor",rules:[{required:!0,message:"Please input your book author!"}],children:Object(x.jsx)(O.a,{})}),Object(x.jsx)(j.a.Item,{label:"\u8cfc\u66f8\u65e5\u671f",name:"BookBoughtDate",rules:[{required:!0,message:"Please input your book bought date!"}],children:Object(x.jsx)(m.a,{format:"YYYY-MM-DD"})}),Object(x.jsx)(j.a.Item,{label:"\u66f8\u7c4d\u7a2e\u985e",name:"BookCategory",rules:[{required:!0,message:"Please input book category!"}],children:Object(x.jsx)(O.a,{})}),Object(x.jsx)(j.a.Item,{label:"\u51fa\u7248\u793e",name:"BookPublisher",rules:[{required:!0,message:"Please input book publisher!"}],children:Object(x.jsx)(O.a,{})}),Object(x.jsx)(j.a.Item,Object(s.a)(Object(s.a)({},z),{},{children:Object(x.jsx)(p.a,{type:"primary",htmlType:"submit",children:"Submit"})}))]}))})]})}}]),o}(a.Component),J=Object(B.b)((function(e){return{isAddModalVisable:e.isAddModalVisable,Bookdata:e.Bookdata}}),(function(e){return{showAddModal:function(){e({type:"showAddModal"})},closeAddModal:function(){e({type:"closeAddModal"})},addBook:function(t){t.BookBoughtDate=t.BookBoughtDate.format("YYYY-MM-DD"),g.a.post("http://localhost:3001/insert",t).then((function(){g.a.post("http://localhost:3001/read").then((function(t){var o={type:"addBook",data:t.data};e(o)}))}))}}}))(T),X=l.a.Header,G=(l.a.Footer,l.a.Content);var H=function(){return Object(x.jsx)(B.a,{store:_,children:Object(x.jsxs)(l.a,{children:[Object(x.jsx)(X,{style:{background:"#3b5998",color:"white",fontSize:25},children:"Library System"}),Object(x.jsx)(J,{}),Object(x.jsxs)(G,{children:[Object(x.jsx)(Y,{}),Object(x.jsx)(A,{})]})]})})};o(264);r.a.render(Object(x.jsx)(H,{}),document.getElementById("root"))}},[[265,1,2]]]);
//# sourceMappingURL=main.bb2d1e71.chunk.js.map